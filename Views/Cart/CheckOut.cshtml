@model IEnumerable<CartItem>
<div id="User" style="display:none;" data-email="@User.Identity.Name"
    data-customer="@User.IsInRole("northwind-customer")"></div>
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <h2>Check Out</h2>


            <div class="container">

                <div class="row justify-content-center align-items-center g-2">
                    <div class="col-8">
                        <div class="row justify-content-center align-items-center g-2">
                            <div class="container border border-dark rounded-top">
                                <h3 class="mt-3">Shipping Information</h3>
                                <hr>

                                <div class="container p-3">

                                    <div class="row g-3">
                                        <div class="col-sm-6  p-1">
                                            <label for="Shipping-firstname" class="form-label">First name</label>
                                            <input type="text" class="form-control" id="shipping-firstname"
                                                placeholder="Jon" value="" required>
                                            <div class="invalid-feedback">
                                                Valid first name is required.
                                            </div>
                                        </div>

                                        <div class="col-sm-6 p-1">
                                            <label for="shipping-lastname" class="form-label">Last name</label>
                                            <input type="text" class="form-control" id="shipping-lastname"
                                                placeholder="Doe" value="" required>
                                            <div class="invalid-feedback">
                                                Valid last name is required.
                                            </div>
                                        </div>

                                        <div class="col-12 p-1">
                                            <label for="shipping-email" class="form-label">Email</label>
                                            <input type="email" class="form-control" id="shipping-email"
                                                placeholder="JonDoe@Mail.com" aria-describedby="email-help">
                                            <div class="invalid-feedback">
                                                Please enter a valid email address for shipping updates.
                                            </div>
                                        </div>

                                        <div class="col-12 p-1">
                                            <label for="shipping-address" class="form-label">Address</label>
                                            <input type="text" class="form-control" id="shipping-address"
                                                placeholder="1234 Main St" required>
                                            <div class="invalid-feedback">
                                                Please enter your billing address.
                                            </div>
                                        </div>

                                        <div class="col-12 p-1">
                                            <label for="shipping-address2" class="form-label">Address 2 <span
                                                    class="text-body-secondary">(Optional)</span></label>
                                            <input type="text" class="form-control" id="shipping-address2"
                                                placeholder="Apartment or suite">
                                        </div>

                                        <div class="col-md-7 p-1">
                                            <label for="shipping-city" class="form-label">City</label>
                                            <input type="text" class="form-control" id="shipping-city"
                                                placeholder="Townsville" required>
                                            <div class="invalid-feedback">
                                                Please enter your city.
                                            </div>
                                        </div>

                                        <div class="col-md-2 p-1">
                                            <label for="shipping-state" class="form-label">State</label>
                                            <input type="text" class="form-control" id="shipping-state" placeholder="AL"
                                                maxlength="2" required>
                                            <div class="invalid-feedback">
                                                Please provide a valid state.
                                            </div>
                                        </div>

                                        <div class="col-md-3 p-1">
                                            <label for="shipping-zip" class="form-label">Zip</label>
                                            <input type="number" class="form-control" id="shipping-zip"
                                                placeholder="12345" min="10000" max="99999" required>
                                            <div class="invalid-feedback">
                                                Zip code required.
                                            </div>
                                        </div>
                                    </div>
                                </div>




                            </div>
                        </div>
                        <div class="row justify-content-center align-items-center g-2">
                            <div class="container border border-dark rounded-bottom">
                                <h3 class="mt-3">Payment Information</h3>
                                <hr>
                                <div class="form-check">

                                    <div class="container p-3">
                                        <input class="form-check-input" type="checkbox" value="" id="sameAsShipChx">
                                        <label class="form-check-label" for="sameAsShipChx">
                                            Same as Shipping address
                                        </label>
                                        <br>
                                        <br>
                                        <div class="row g-3">
                                            <div class="col-sm-6  p-1">
                                                <label for="billing-firstname" class="form-label">First name</label>
                                                <input type="text" class="form-control" id="billing-firstname"
                                                    placeholder="Jon" value="" required>
                                                <div class="invalid-feedback">
                                                    Valid first name is required.
                                                </div>
                                            </div>

                                            <div class="col-sm-6 p-1">
                                                <label for="billing-lastname" class="form-label">Last name</label>
                                                <input type="text" class="form-control" id="billing-lastname"
                                                    placeholder="Doe" value="" required>
                                                <div class="invalid-feedback">
                                                    Valid last name is required.
                                                </div>
                                            </div>

                                            <div class="col-12 p-1">
                                                <label for="billing-email" class="form-label">Email</label>
                                                <input type="email" class="form-control" id="billing-email"
                                                    placeholder="JonDoe@Mail.com" aria-describedby="email-help">
                                                <div class="invalid-feedback">
                                                    Please enter a valid email address for shipping updates.
                                                </div>
                                            </div>

                                            <div class="col-12 p-1">
                                                <label for="billing-address" class="form-label">Address</label>
                                                <input type="text" class="form-control" id="billing-address"
                                                    placeholder="1234 Main St" required>
                                                <div class="invalid-feedback">
                                                    Please enter your billing address.
                                                </div>
                                            </div>

                                            <div class="col-12 p-1">
                                                <label for="billing-address2" class="form-label">Address 2 <span
                                                        class="text-body-secondary">(Optional)</span></label>
                                                <input type="text" class="form-control" id="billing-address2"
                                                    placeholder="Apartment or suite">
                                            </div>

                                            <div class="col-md-7 p-1">
                                                <label for="billing-city" class="form-label">City</label>
                                                <input type="text" class="form-control" id="billing-city"
                                                    placeholder="Townsville" required>
                                                <div class="invalid-feedback">
                                                    Please enter your city.
                                                </div>
                                            </div>

                                            <div class="col-md-2 p-1">
                                                <label for="billing-state" class="form-label">State</label>
                                                <input type="text" class="form-control" id="billing-state"
                                                    placeholder="AL" maxlength="2" required>
                                                <div class="invalid-feedback">
                                                    Please provide a valid state.
                                                </div>
                                            </div>

                                            <div class="col-md-3 p-1">
                                                <label for="billing-zip" class="form-label">Zip</label>
                                                <input type="number" class="form-control" id="billing-zip"
                                                    placeholder="12345" maxlength="5" required>
                                                <div class="invalid-feedback">
                                                    Zip code required.
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="container border border-dark rounded">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th scope="col">Product</th>
                                        <th scope="col">Price</th>
                                        <th scope="col">Quantity</th>
                                        <th scope="col">Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model)
                                    {
                                        decimal total = item.Quantity * item.Product.UnitPrice;
                                        <tr>
                                            <td>@item.Product.ProductName</td>
                                            <td>@item.Product.UnitPrice.ToString("C")</td>
                                            <td>@item.Quantity</td>
                                            <td>@total.ToString("C")</td>

                                        </tr>
                                    }



                                </tbody>
                            </table>
                            
                            <hr>
                            <div id='total'>
                                Cost: $<span id="total_cart_value">@Model.Sum(x => x.Quantity *
                                    x.Product.UnitPrice)</span>
                                <br>
                                Applied Discounts: <span id="discontsAdded"></span>
                                <br>
                                Shipping (standerd): $25.50 
                                <br>
                                Total: $<span id="totalCheckOut"></span>



                            </div>
                            <hr>

                            <div class="mb-3">

                                <label for="Discounts" class="form-label">Discounts</label>
                                <input type="text" class="form-control" name="DiscountCd" id="DiscountCd" aria-describedby="discounts"
                                    placeholder="CODE">
                                <small id="discounts" class="form-text text-muted">Enter any Discounts that may apply</small>
                                <button type="button" class="btn btn-secondary btn-sm mt-2" id='DiscountSb'>Apply Discount</button>



                               
                            </div>
                        </div>
                    </div>

                </div>

            </div>




            <!-- Order Button -->


            <div class="row">
                <div class="col-md-6 offset-md-6">
                    <button class="btn btn-primary" id="checkout_button">Place Order</button>
                </div>
            </div>
        </div>
        @section Scripts
        {

            <script src="../../js/checkOut.js">

            </script>
        }